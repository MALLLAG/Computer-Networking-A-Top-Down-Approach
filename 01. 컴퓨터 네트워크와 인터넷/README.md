# 1. 컴퓨터 네트워크와 인터넷

# 1.1 인터넷이란 무엇인가

## 1.1.1 하드웨어적 설명

- **인터넷**(Internet)이란 전 세계 수십억 대의 전자 기기를 연결하는 컴퓨터 네트워크를 의미합니다.
    - 예전에는 이러한 전자 기기들이 주로 데스크톱 컴퓨터, 리눅스 워크스테이션, 그리고 웹페이지나 이메일 등 메시지를 저장·전송하는 서버 컴퓨터였습니다.
    - 하지만 최근에는 노트북, 스마트폰, 태블릿, TV, 게임기, 온도 조절기, 가정 보안 시스템, 가전제품, 시계, 안경, 자동차, 교통 신호등 등 전통적이지 않은 장치들도 모두 인터넷에 연결되고 있습니다. 사실 이제는 컴퓨터 네트워크(computer network)라는 용어가 다소 구식처럼 느껴질 정도로, 컴퓨터가 아닌 다양한 기기들이 네트워크에 연결되어 있습니다.
    - 인터넷 용어로는 이러한 장치들을 **호스트(host)** 또는 **종단 시스템(end system)** 이라고 부릅니다.
- 인터넷의 종단 시스템들은 **통신 링크(communication link)** 와 **패킷 스위치(packet switch)** 로 연결되어 있습니다.
    - 다양한 통신 링크는 동축 케이블, 구리선, 광섬유, 무선 등 다양한 물리 매체를 통해 데이터를 전송하며, 매체별로 **전송 속도(transmission rate)** 가 다릅니다.
    - 한 종단 장치가 다른 장치로 데이터를 전송할 때, 송신 측은 데이터를 여러 개의 **작은 조각(세그먼트)** 으로 나누고 각 조각에 헤더(header) 정보를 추가합니다. 이렇게 처리된 데이터 조각을 **패킷(packet)** 이라고 부르며, 패킷은 네트워크를 통해 수신 측으로 전송되고, 수신 측에서 원래 데이터로 재조립됩니다.
    - 패킷 스위치는 패킷 전송을 담당합니다. 패킷은 한쪽 입력 포트로 들어와 다른 출력 포트로 나가며, 최종 목적지까지 전달됩니다. 이 경로를 **라우트(route)** 또는 **경로(path)** 라고 부릅니다.
        - 스위치에는 여러 종류가 있지만, 오늘날 인터넷에서 가장 중요한 두 가지는 **라우터(router)** 와 **링크 계층 스위치(link-layer switch)** 입니다.
        - 링크 계층 스위치는 주로 액세스 네트워크(가정 등)에, 라우터는 네트워크 코어(네트워크와 네트워크를 연결하는 부분)에 사용됩니다.
    - 패킷 전송 네트워크는 대중 교통 네트워크와 매우 유사합니다. 자동차가 도로망을 통해 이동하는 것처럼, 패킷도 인터넷을 통해 이동합니다. 예를 들어 제조업체가 화물을 운송하는 상황은 네트워크 데이터 전송과 잘 대응됩니다:
        - 트럭: 패킷
        - 고속도로와 도로: 통신 링크
        - 교차로: 스위치
        - 창고: 종단 장치
- 종단 장치는 **인터넷 서비스 제공자(ISP)** 를 통해 인터넷에 접속합니다.
    - ISP에는 지역 통신사, 기업용 ISP, 학술용 ISP, 상점 WiFi 제공 ISP, 셀룰러 네트워크 ISP 등 다양한 종류가 있습니다. 각 ISP는 자체 패킷 전송 네트워크를 가지고 있습니다.
    - ISP는 가정용 광대역, 고속 LAN, 모바일 무선 네트워크, 웹 및 동영상 콘텐츠 제공 등 다양한 서비스를 제공합니다.
    - 이러한 지역 또는 하위 ISP들은 국가, 국제, 또는 상위 ISP를 통해 상호 연결됩니다. 상위 ISP는 고속 라우터와 광섬유 네트워크로 구성됩니다.
    - 상위든 하위든 모든 ISP는 독립적으로 관리되며, IP 프로토콜을 사용하고, 특정 명명 및 주소 규칙을 따릅니다.
- 종단 장치, 스위치, 기타 장치 모두가 **프로토콜(protocol)** 을 따라야만 네트워크에서 데이터를 전송할 수 있습니다. 현재 가장 중요한 두 가지 프로토콜은 **TCP(Transmission Control Protocol)** 와 **IP(Internet Protocol)** 로, 이 두 가지를 합쳐 **TCP/IP 프로토콜 패밀리**라고 부릅니다.
- 프로토콜이 매우 중요하기 때문에, 모든 사람이 그 내용을 동의하고 준수하는 것이 필수적입니다. 그래야만 서로 다른 기기가 서로 통신할 수 있습니다. 이를 위해 **IETF(Internet Engineering Task Force)** 가 표준 명세를 제정하며, 이 명세는 **RFC(Requests for Comments)** 라고 불립니다. 현재 약 7000개 이상의 RFC가 존재합니다.
    - 그 외에도 IEEE 802 LAN/MAN Standards Committee 등 다른 조직에서 이더넷, 무선 WiFi 등과 관련된 표준을 제정합니다.

## 1.1.2 서비스적 설명

- 앞서 인터넷을 구성하는 다양한 요소를 설명했지만, 다른 관점에서 인터넷을 정의할 수도 있습니다: 인터넷은 다양한 응용 서비스를 제공하는 인프라입니다.
    - 인터넷이 제공하는 서비스 예시:
        - 전통적인 이메일 및 웹 서비스
        - 스마트폰 및 태블릿 서비스
        - 인터넷 채팅
        - 실시간 교통 정보가 포함된 지도
        - 클라우드 음악 스트리밍
        - 영화, TV 실시간 스트리밍
        - 소셜 네트워크
        - 화상 회의
        - 온라인 멀티플레이어 게임
        - 위치 기반 추천 시스템
    - 이러한 서비스는 **분산 응용 서비스(Distributed application)** 라 부르며, 여러 종단 장치 간 데이터 교환이 필요합니다.
    - 중요한 점은, 이러한 응용 서비스는 종단 장치에서 실행되며, 네트워크 코어 내의 스위치에서 실행되는 것이 아니라는 것입니다. 스위치는 데이터 전송을 도와주지만, 데이터의 출발지나 목적지는 아닙니다.
- 모든 인터넷 연결 종단 장치는 **소켓 인터페이스(Socket interface)** 를 제공합니다. 이 인터페이스는 응용 프로그램이 인터넷을 통해 데이터를 다른 종단 장치의 응용 프로그램에 어떻게 요청하는지 정의합니다.
    - 소켓 인터페이스란, 데이터를 보내는 응용 프로그램이 따라야 할 일련의 규칙입니다. 이 규칙을 따르면 데이터를 목적지 프로그램으로 보낼 수 있습니다.
    - 마치 우편 시스템에도 규칙이 있듯, 이를 "우편 서비스 인터페이스"라고 비유할 수 있습니다. 예를 들어, A가 B에게 편지를 보내려면:
        - 편지를 봉투에 넣고
        - B의 이름, 주소, 우편번호를 적고
        - 봉투를 봉하고
        - 우표를 붙이고
        - 우체통에 넣어야 합니다.
    - A가 우편 규칙을 따라야만 편지가 B에게 전달되듯, 응용 프로그램도 소켓 인터페이스 규칙을 따라야 데이터를 올바르게 전달할 수 있습니다.
- 우편 시스템에 특급, 등기, 일반우편 등 다양한 서비스가 있듯, 인터넷에도 여러 데이터 전송 방식이 있습니다. 응용 프로그램 개발 시, 그 중 하나를 선택해야 합니다.

## 1.1.3 프로토콜이란?

### 인간의 비유

<img width="520" height="355" alt="Image" src="https://github.com/user-attachments/assets/d1ce5d50-e9c5-4dec-8854-ca1f2f16694c" />

- **프로토콜(protocol)** 이란 무엇일까요? 네트워크 프로토콜의 개념을 이해하기 위해 인간 간의 의사소통에 비유할 수 있습니다.
- 인간은 늘 "인간 프로토콜"(Human protocol) 또는 예의 바른 대화 방식을 사용합니다. 예를 들어, 누군가에게 시간을 물어볼 때:
    - 먼저 "안녕하세요"라고 인사합니다: 대화 시작
    - 상대방도 "안녕하세요"라고 답합니다: 요청을 받을 준비가 됨을 표시
        - 때로는 "귀찮게 하지 마세요!", "저는 한국어를 못해요", 혹은 아무 반응이 없을 수도 있습니다. 이 경우 대화는 시작되지 않습니다.
        - 아무 반응이 없으면 결국 질문을 포기하게 됩니다.
    - 그 후 "지금 몇 시에요?"라고 묻습니다: 정보 요청
    - 상대방이 시간을 알려줍니다: 정보 획득
- 인간 프로토콜에서는 _특정 메시지를 주고받고, 받은 메시지에 따라 특정 행동을 합니다_. 이처럼 메시지와 행동은 프로토콜에서 매우 중요합니다.
    - 만약 대화하는 두 사람이 서로 다른 프로토콜을 사용하면, 의미 있는 대화가 불가능합니다. 예를 들어, 한 사람은 예의 바른데 다른 한 사람은 그렇지 않거나, 한 사람은 시간을 이해하지만 다른 한 사람은 그렇지 않은 경우입니다.
    - 인간끼리도 같은 프로토콜을 사용해야 정상적인 소통이 가능하듯, 두 종단 장치도 동일한 프로토콜을 사용해야 데이터 전송이 가능합니다.

### 네트워크 프로토콜

- 네트워크 프로토콜도 인간 프로토콜과 유사하지만, 데이터 교환의 주체가 컴퓨터, 스마트폰, 태블릿, 스위치, 라우터 등 네트워크의 다양한 하드웨어/소프트웨어라는 점이 다릅니다. 인터넷에서 일어나는 모든 활동은 네트워크 프로토콜의 규칙을 따릅니다. 예시:
    - 두 대의 컴퓨터가 직접 전선으로 연결되어 있다면, 네트워크 카드 간 전송되는 비트를 제어하는 하드웨어 기반 프로토콜이 동작합니다.
    - 두 종단 장치 간에는 혼잡 제어 프로토콜이 동작해, 단위 시간당 전송할 패킷 수를 조절합니다.
    - 라우터에서는 패킷이 어느 방향으로 갈지 결정하는 프로토콜이 동작합니다.
- 프로토콜은 인터넷 전체에 걸쳐 존재하며, 이 책의 대부분 내용도 이와 관련되어 있습니다.
- 예를 들어, 브라우저 주소창에 URL을 입력하면 다음과 같은 일이 발생합니다:
    - 컴퓨터가 TCP 연결 요청을 보내고, 웹 서버의 응답을 기다립니다.
    - 패킷이 정확히 도착하면, 웹 서버가 TCP 연결 응답 메시지를 보냅니다.
    - 연결 응답을 받은 후, 컴퓨터는 해당 파일 이름(URL)이 적힌 GET 요청을 보냅니다.
    - 웹 서버는 해당 URL의 웹페이지(파일)를 컴퓨터로 전송합니다.
- 이러한 인간 및 컴퓨터 간 메시지 교환 방식을 이해했다면, 프로토콜의 정의를 내릴 수 있습니다:

> **프로토콜**이란, 두 개체 간에 교환되는 메시지의 형식과 순서, 그리고 메시지의 송·수신 및 기타 이벤트 발생 시 수행해야 하는 동작을 정의한 것입니다.

- 인터넷(또는 컴퓨터 네트워크)에서는 매우 빈번하게 다양한 프로토콜이 사용됩니다. 각 프로토콜은 서로 다른 목적을 가지며, 어떤 것은 단순하고 직관적이고, 어떤 것은 복잡하고 정교합니다. 인터넷을 깊이 이해한다는 것은 이 프로토콜의 내면과 사용 이유, 사용 방법을 이해하는 것과 같습니다.

---

# 컴퓨터 네트워킹 — 1.2 네트워크 엣지

<img width="439" height="357" alt="Image" src="https://github.com/user-attachments/assets/0b791d7d-26c4-4b26-9b21-0e16f139c398" />

네트워크 엣지는 우리가 가장 익숙한 장치들 즉, 컴퓨터, 스마트폰, 태블릿, 그리고 일상에서 자주 사용하는 여러 기기들로 구성되어 있습니다. <br>
네트워크 엣지와 달리, 네트워크 코어(Core)는 라우터와 스위치로 구성되며, 이는 다음 장에서 다룹니다.

인터넷 용어에서는 스마트폰, 태블릿, 컴퓨터 등을 **엔드 시스템(End system)** 이라고 부릅니다. <br>
때로는 이들을 **호스트(Host)** 라고도 하는데, 이 장치들은 웹 브라우저, 웹 서버, 이메일 클라이언트, 이메일 서버 등 다양한 애플리케이션을 실행합니다. 앞으로의 내용에서는 이 두 용어를 번갈아 사용하며, 엔드 시스템 = 호스트로 이해하면 됩니다.

호스트는 다시 두 가지로 나눌 수 있습니다.

- **클라이언트(Client)**: 개인용 컴퓨터, 스마트폰, 모바일 기기 등
- **서버(Server)**: 대량의 데이터를 저장하고 배포하는 더 강력한 기기

현대에는 우리가 인터넷에서 얻는 데이터 대부분이 대형 **데이터 센터(Data center)** 에서 제공됩니다. 예를 들어, Google은 약 50~100개의 데이터 센터를 보유하고 있으며, 그 중 약 15개는 대형 데이터 센터로 10만 대가 넘는 서버가 있습니다.

## 1.2.1 액세스 네트워크

엔드 시스템은 “네트워크의 엣지”에 위치합니다. 이제 **액세스 네트워크(Access Network)** 에 대해 설명합니다. <br>
액세스 네트워크란 엔드 시스템을 네트워크의 다른 부분으로 연결하는 첫 번째 라우터(엣지 라우터, edge router)와 연결하는 선로를 의미합니다. 액세스 네트워크는 가정용, 기업용, 광역 무선 이동 네트워크 등으로 나눌 수 있습니다.

### 가정용 액세스: DSL, 케이블, FTTH, 다이얼업, 위성

현대 가정용 광대역 연결 방식으로 가장 널리 쓰이는 두 가지는 **DSL(디지털 가입자 회선)** 과 **케이블(Cable)** 입니다.

- **DSL**: 전화선을 통해 통신사 중앙국(Central Office, CO)의 DSLAM과 데이터를 교환
    - DSL 모뎀은 디지털 신호를 고주파 아날로그 신호로 변환해 전화선을 통해 CO로 전송
    - CO의 DSLAM은 다시 아날로그 신호를 디지털 신호로 변환
    - 신호를 서로 다른 주파수 대역에 인코딩하여 인터넷과 전화 동시 사용 가능
        - 고주파 하행 채널: 50 kHz ~ 1 MHz
        - 중주파 상행 채널: 4 kHz ~ 50 kHz
        - 일반 전화용 양방향 채널: 0 ~ 4 kHz
    - DSLAM 하나로 수백~수천 가구의 전화선을 연결
    - **ADSL(Asymmetric Digital Subscriber Line)**: 하행과 상행 속도가 다름(비대칭)
    - CO와의 거리가 15~30km를 넘으면 다른 인터넷 연결 방식 필요

- **케이블 인터넷**: 케이블 TV 사업자의 기존 케이블선을 이용
    - 케이블 TV 헤드엔드는 광섬유로 지역 허브에 연결, 허브에서 동축 케이블로 각 가정에 신호 전달
    - **HFC(하이브리드 광섬유-동축)** 구조로, 한 허브가 500~5000가구를 서비스
    - 케이블 모뎀은 이더넷 포트로 PC에 연결
    - **CMTS(케이블 모뎀 종단 시스템)**: DSLAM과 유사하게 아날로그 신호를 디지털로 변환
    - **DOCSIS 2.0** 기준 하행 최대 42.8 Mbps, 상행 최대 30.7 Mbps

- **FTTH(Fiber to the Home)**: CO에서 각 가정까지 직접 광섬유를 연결
    - **AON(Active Optical Networks)**: 스위치드 이더넷 기반
    - **PON(Passive Optical Networks)**: 각 가정에 ONT 설치, 분배기를 통해 여러 가구의 광섬유를 하나로 합쳐 CO의 OLT로 연결
    - FTTH는 초당 수 GB의 속도 제공

- **위성(Satellite), 다이얼업(Dial-up)**: DSL, 케이블, 광섬유가 닿지 않는 지역에서 사용
    - 위성: 약 1 Mbps
    - 다이얼업: 56 kbps

### 기업 및 가정 내 액세스: 이더넷과 Wi-Fi

- **LAN(Local Area Network)**: 엔드 시스템을 네트워크 엣지 라우터에 연결
- **이더넷(Ethernet)**: 트위스티드 페어 케이블로 이더넷 스위치에 연결
    - 사용자: 100 Mbps~1 Gbps
    - 서버: 1~10 Gbps

- **무선 LAN(Wi-Fi, IEEE 802.11)**: 무선 액세스 포인트를 통해 유선 네트워크에 연결
    - 최대 100 Mbps 이상의 공유 속도 제공
    - 가정에서는 저렴한 Wi-Fi 공유기로 DSL 신호를 무선으로 변환

<img width="665" height="349" alt="Image" src="https://github.com/user-attachments/assets/bed1c355-7b71-4ae2-808d-5d1af1741175" />

### 광역 무선 액세스: 3G와 LTE

- **3G**: 약 1 Mbps의 패킷 교환 광역 무선 네트워크
- **4G(LTE)**: 10 Mbps 이상의 속도 제공

## 1.2.2 물리적 매체(Physical Media)

앞서 소개한 액세스 네트워크 기술들은 다양한 **물리적 매체**를 사용합니다.

### 물리적 매체의 종류

- **유도 매체(Guided media)**: 광섬유, 트위스티드 페어, 동축 케이블 등
- **비유도 매체(Unguided media)**: 무선 LAN, 위성 채널 등

선재 비용은 네트워크 구축의 다른 부분에 비해 저렴하며, 설치 인건비가 더 많이 듭니다.

### 트위스티드 페어 구리선(Twisted-Pair Copper Wire)

- 가장 저렴하고 널리 쓰이는 유도 매체
- 두 개의 절연된 구리선(약 1mm)이 나선형으로 꼬여 있어, 전자기 간섭을 줄임
- 여러 쌍이 함께 묶여 보호 케이블에 들어감(UTP)
- 현대 LAN: 10 Mbps~10 Gbps
- 다이얼업 모뎀과 DSL도 트위스티드 페어 사용

### 동축 케이블(Coaxial Cable)

- 두 개의 구리선이 동심원 구조로 배치
- 높은 전송 속도 지원
- TV 네트워크, 케이블 모뎀에 사용

### 광섬유(Fiber Optics)

- 광펄스를 통해 데이터 전송
- 수십~수백 Gbps 지원, 전자기 간섭에 강함, 장거리 전송에 적합
- 장거리 전화망, 컴퓨터 백본 네트워크에 사용

### 지상 무선 채널(Terrestrial Radio Channels)

- 전자기파 스펙트럼을 통해 신호 전송
- 환경, 거리, 경로 손실, 장애물, 간섭 등에 영향 받음
    - 단거리(1~2m): 무선 헤드폰, 키보드, 마우스, 의료기기 등
    - 중거리(수백 m): 무선 LAN
    - 장거리(수십 km): 셀룰러 네트워크

### 위성 무선 채널(Satellite Radio Channels)

- 통신 위성이 지상 무선 송수신기를 연결
    - **정지궤도 위성(Geostationary Satellites)**: 지구 특정 지점 상공에 고정, 36,000km 거리, 약 280ms의 지연
    - **저궤도 위성(LEO, Low-Earth Orbiting)**: 지상과 가까운 궤도, 여러 위성이 협력해 지역 전체를 커버
